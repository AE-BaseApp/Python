{% autoescape on %}
{% comment %}
# Copyright 2010 - 2012 Mark Finch
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may not use this 
# file except in compliance with the License. You may obtain a copy of the License at 
#
# http://www.apache.org/licenses/LICENSE-2.0 
#
# Unless required by applicable law or agreed to in writing, software distributed under 
# the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF 
# ANY KIND, either express or implied. See the License for the specific language 
# governing permissions and limitations under the License.
{% endcomment %}

{% include 'header.html' %}
<body>
  <div id="wrapper">
  <div id="header">
    <img src="static/images/megaphoneman.jpg" alt="Golden Man with MegaPhone"/>
    <div class="centerme">
      <h1 class="red">AE-Python</h1>
      <small>Let the world know what's on your mind!</small>
    </div> <!-- centerme -->
  </div> <!-- header -->
  <div class="divClear toprule"></div>
  <h2 class="red">New User Registration</h2>
  <div id="newuser" class="left">
    <form name="profile" action="/profile" method="post" accept-charset="utf-8"
          onsubmit="return validateForm()">
      * User Name:&nbsp;<input type="text" name="user_name" value={% ifequal profile.user_name none %} "" {% else %} {{profile.user_name}} {% endifequal %} /></br>
      * First Name:&nbsp;<input type="text" name="first_name" value="{{profile.first_name}}" /></br>
      * Last Name:&nbsp;<input type="text" name="last_name" value="{{profile.last_name}}" /></br>
      * E-Mail:&nbsp;<input type="text" name="email" value={% ifequal profile.email none %} {{user.email}} {% else %} {{profile.email}} {% endifequal %} /></br>
      * Time Zone:&nbsp;<select name="time_zone">
            <option value="America/Los_Angeles" selected="">America/Los_Angeles</option>
        {% for tz in time_zones %}
            <option value="{{ tz }}"{% if tz == profile.time_zone %} selected="selected"{% endif %}>{{ tz }}</option>
        {% endfor %}
      </select>
      <input type = "submit" value ="Save">
    </form>
  <script type="text/javascript">
    function validateForm() {
      var un=document.forms["profile"]["user_name"].value;
      if (un==null || un=="") {
        alert("User Name must be filled out");
      return false;
      }
      var fn=document.forms["profile"]["first_name"].value;
      if (fn==null || fn=="") {
        alert("First Name must be filled out");
      return false;
      }
      var ln=document.forms["profile"]["last_name"].value;
      if (ln==null || ln=="") {
        alert("Last Name must be filled out");
      return false;
      }
      var em=document.forms["profile"]["email"].value;
      if (em==null || em=="") {
        alert("E-Mail must be filled out");
      return false;
      }

    } // validateForm
  </script>
  </div> <!-- newuser -->


{% include 'footer.html' %}
{% endautoescape %}
